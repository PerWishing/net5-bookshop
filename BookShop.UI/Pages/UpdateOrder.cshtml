@page "{id}"
@model BookShop.UI.Pages.UpdateOrderModel
@inject IAuthorizationService authService
@{
}

<div class="hero">
    <div class="hero-body">
        <div class="container">
            <div class="columns">
                <div class="column is-6" style="width: 300px;">
                    @if ((await authService.AuthorizeAsync(User, "Admin")).Succeeded)
                    {

                    }
                    <figure class="image is-3by4">
                        @if (Model.Order.Product.Image != null)
                        {
                            <img src="data:image/jpeg;base64,@(Convert.ToBase64String(Model.Order.Product.Image))" />
                        }
                        else
                        {
                            <img src="~/images/item.jpg" />
                        }
                    </figure>
                </div>
                <div class="column is-4">
                    <section class="content">
                        <p class="title">@Model.Order.Product.Name</p>
                        <p class="subtitle">Автор: @Model.Order.Product.Author</p>
                        <p class="">Цена: @Model.Order.Product.Value</p>
                        <p class="">Жанр: @Model.Order.Product.Genre</p>
                        <p class="">Издание: @Model.Order.Product.Publishing</p>
                        <p class="">Год: @Model.Order.Product.Year</p>
                        <p class="">Серия: @Model.Order.Product.Series</p>
                        <p class="">ISBN: @Model.Order.Product.ISBN</p>
                        <footer>
                            <form method="post">
                            </form>
                        </footer>
                    </section>
                </div>
                <div class="column is-6">

                    <section class="content">
                        <h2>Редактирование информации заказа</h2>
                        <form method="post">
                            <div class="field">
                                <p class="control">
                                    <label class="label">Имя</label>
                                    <input asp-for="UpdatedInfo.FIO" value="@Model.Order.FIO" />
                                </p>
                                <span asp-validation-for="UpdatedInfo.FIO"></span>
                            </div>

                            <div class="field">
                                <p class="control">
                                    <label class="label">Номер телефона</label>
                                    <input asp-for="UpdatedInfo.PhoneNumber" value="@Model.Order.PhoneNumber" />
                                </p>
                                <span asp-validation-for="UpdatedInfo.PhoneNumber"></span>
                            </div>
                            <div class="field">
                                <p class="control">
                                    <label class="label">Email</label>
                                    <input asp-for="UpdatedInfo.Email" value="@Model.Order.Email" />
                                </p>
                                <span asp-validation-for="UpdatedInfo.Email"></span>
                            </div>
                            <div class="field">
                                <p class="control">
                                    <label class="label">Адрес отправки</label>
                                    <input asp-for="UpdatedInfo.Adress1" value="@Model.Order.Adress1" />
                                </p>
                                <span asp-validation-for="UpdatedInfo.Adress1"></span>
                            </div>

                            <div class="field">
                                <p class="control">
                                    <label class="label">Город</label>
                                    <input asp-for="UpdatedInfo.City" value="@Model.Order.City" />
                                </p>
                                <span asp-validation-for="UpdatedInfo.City"></span>
                            </div>
                            <div class="field">
                                <p class="control">
                                    <label class="label">Код почты</label>
                                    <input asp-for="UpdatedInfo.PostCode" value="@Model.Order.PostCode" />
                                </p>
                                <span asp-validation-for="UpdatedInfo.PostCode"></span>
                            </div>
                            <div class="field">
                                <button class="button is-success" type="submit" asp-page-handler="ForUpdate">Обновить</button>
                            </div>
                        </form>
                        <footer>
                            <form method="post">
                            </form>
                        </footer>
                    </section>
                </div>
            </div>
        </div>
    </div>
</div>

